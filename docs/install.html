<!doctype html><html lang=en><link href='data:image/gif;base64,R0lGODlhEAAQAPH/AAAAAP8AAP8AN////yH5BAUAAAQALAAAAAAQABAAAAM2SLrc/jA+QBUFM2iqA2bAMHSktwCCWJIYEIyvKLOuJt+wV69ry5cfwu7WCVp2RSPoUpE4n4sEADs=' rel=icon><title>KISS - install</title><meta charset=utf-8><meta name=Description content="An independent Linux(R) distribution with a focus on simplicity and the concept of less is more."><meta name=viewport content="width=device-width,initial-scale=1"><style>body{overflow-y:scroll;font:16px monospace,monospace}img,.c{display:table-cell;max-width:999px;max-width:80ch}pre{margin:0;overflow-x:hidden}@media(max-width:999px){.c{display:block;font-size:1.94vw}}@media(prefers-color-scheme:dark){body{background:#000;color:#fff}a{color:#6CF}}</style><div style="display:table;margin:16px auto"><div class=c><pre style="top:0;position:sticky;user-select:none;padding-right:64px">
<a href=/ style="text-decoration:none;color:#a00"><b>
|/
|\ISS LINUX™
</b></a>
<a href=/news>News</a>
<a href=/blog>Blog (20210711a)</a>

<a href=/install>Install</a>
<a href=/faq>FAQ</a>
<a href=/wiki>Wiki</a>

<a href=/package-system>Package System</a>
<a href=/package-manager>Package Manager</a>

<a href=/testimonials>Testimonials</a>
<a href=/screenshots>Screenshots</a>

<a href=/contact>Contact</a>
<a href=/contact>Donate</a>

<a href=https://github.com/kisslinux/>GitHub</a>

</pre></div><div class=c><pre>

<span id=0.0><a href=#0.0>[0.0]</a></span> INSTALL KISS
________________________________________________________________________________

Welcome to the installation guide for KISS Linux.

The installation utilizes a tarball which is unpacked to '/'. This same tarball
is also directly usable as a chroot from any Linux distribution.

A live-CD from a another distribution is required to bootstrap KISS. It does not
matter which distribution is used so long as it includes 'tar', 'xz' and other
basic utilities.

The guide assumes you have booted a live-CD, are logged in as root, have your
disks, partitions and filesystems setup and have an internet connection.


<span id=1.0><a href=#1.0>[1.0]</a></span> The Process
________________________________________________________________________________

- Install KISS                                                             <a href=#2.0>[2.0]</a>
    - Download the latest release                                          <a href=#2.1>[2.1]</a>
    - Verify the checksums                                                 <a href=#2.2>[2.2]</a>
    - Verify the signature                                                 <a href=#2.3>[2.3]</a>
    - Unpack the tarball                                                   <a href=#2.4>[2.4]</a>
    - Enter the chroot                                                     <a href=#2.5>[2.5]</a>

- Setup repositories                                                       <a href=#3.0>[3.0]</a>
    - KISS_PATH                                                            <a href=#3.1>[3.1]</a>
    - Official repositories                                                <a href=#3.2>[3.2]</a>

- Enable repository signing                                                <a href=#4.0>[4.0]</a>
    - Build and install gnupg1                                             <a href=#4.1>[4.1]</a>
    - Import My Key                                                        <a href=#4.2>[4.2]</a>
    - Enable Signature Verification                                        <a href=#4.3>[4.3]</a>

- Rebuild KISS                                                             <a href=#5.0>[5.0]</a>
    - Modify Compiler Options                                              <a href=#5.1>[5.1]</a>
    - Update All Base Packages                                             <a href=#5.2>[5.2]</a>
    - Rebuild All Packages                                                 <a href=#5.3>[5.3]</a>

- Userspace tools                                                          <a href=#6.0>[6.0]</a>
    - Filesystems                                                          <a href=#6.1>[6.1]</a>
    - WiFi                                                                 <a href=#6.2>[6.2]</a>
    - Dynamic IP addressing                                                <a href=#6.3>[6.3]</a>

- The hostname                                                             <a href=#7.0>[7.0]</a>

- The kernel                                                               <a href=#8.0>[8.0]</a>
    - Install required packages                                            <a href=#8.1>[8.1]</a>
    - Download the kernel sources                                          <a href=#8.2>[8.2]</a>
    - Download firmware blobs                                              <a href=#8.3>[8.3]</a>
    - Configure the kernel                                                 <a href=#8.4>[8.4]</a>
    - Build the kernel                                                     <a href=#8.5>[8.5]</a>
    - Install the kernel                                                   <a href=#8.6>[8.6]</a>

- The bootloader                                                           <a href=#9.0>[9.0]</a>
    - Build and install grub                                               <a href=#9.1>[9.1]</a>
    - Setup grub                                                           <a href=#9.2>[9.2]</a>

- Install init scripts                                                    <a href=#10.0>[10.0]</a>
- Set a root password                                                     <a href=#11.0>[11.0]</a>
- Add a normal user                                                       <a href=#12.0>[12.0]</a>
- Install graphical session (wayland)                                     <a href=#13.0>[13.0]</a>
- Further steps                                                           <a href=#14.0>[14.0]</a>


<span id=2.0><a href=#2.0>[2.0]</a></span> Install KISS
________________________________________________________________________________

Start by declaring two variables.

+------------------------------------------------------------------------------+
|                                                                              |
|   $ url=https://github.com/kisslinux/repo/releases/download/2021.7-5         |
|   $ file=kiss-chroot-2021.7-5.tar.xz                                         |
|                                                                              |
+------------------------------------------------------------------------------+


    <span id=2.1><a href=#2.1>[2.1]</a></span> Download the latest release
    ____________________________________________________________________________

    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ curl -fLO "$url/$file"                                               |
    |                                                                          |
    +--------------------------------------------------------------------------+


    <span id=2.2><a href=#2.2>[2.2]</a></span> Verify checksums (recommended)
    ____________________________________________________________________________

    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ curl -fLO "$url/$file.sha256"                                        |
    |   $ sha256sum -c < "$file.sha256"                                        |
    |                                                                          |
    +--------------------------------------------------------------------------+


    <span id=2.3><a href=#2.3>[2.3]</a></span> Verify signature (recommended)
    ____________________________________________________________________________

    This step verifies that the release was signed by its creator, Dylan Araps.
    If the live OS of your choice does not include GPG, this step can also be
    done on another machine (with the same tarball).

    +--------------------------------------------------------------------------+
    | Download the armored ASCII file.                                         |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ curl -fLO "$url/$file.asc"                                           |
    |                                                                          |
    +--------------------------------------------------------------------------+
    | Import my public key (if this fails, try another keyserver).             |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ gpg --keyserver keys.gnupg.net --recv-key 13295DAC2CF13B5C           |
    |                                                                          |
    +--------------------------------------------------------------------------+
    | Verify the signature.                                                    |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ gpg --verify "$file.asc"                                             |
    |                                                                          |
    +--------------------------------------------------------------------------+


    <span id=2.4><a href=#2.4>[2.4]</a></span> Unpack the tarball
    ____________________________________________________________________________

    This step effectively installs KISS to /mnt. The tarball contains a working
    system minus the bootloader and kernel.

    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ cd /mnt                                                              |
    |   $ tar xvf "$OLDPWD/$file"                                              |
    |                                                                          |
    +--------------------------------------------------------------------------+


    <span id=2.5><a href=#2.5>[2.5]</a></span> Enter the chroot
    ____________________________________________________________________________

    This is a simple script to chroot into /mnt and set up the environment.
    The script handles mounting pseudo filesystems (/proc, /dev, /sys, etc),
    enabling network inside the chroot and clean up upon exit.

    On execution of this step you will be running KISS! The next steps involve
    the kernel, software compilation and system setup.

    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ /mnt/bin/kiss-chroot /mnt                                            |
    |                                                                          |
    +--------------------------------------------------------------------------+


<span id=3.0><a href=#3.0>[3.0]</a></span> Setup repositories
________________________________________________________________________________

The repository system is quite different to that of other distributions. The
system is controlled via an environment variable called KISS_PATH. This variable
is analogous to PATH, a colon separated list of absolute paths.

A repository is merely a directory (repo) containing directories (packages) and
can be located anywhere on the file-system. The full path to the directory is
the value to KISS_PATH.

The chroot/installation tarball does not come with any repositories by default,
nor does the package manager expect or assume that any exist in a given
location. This is entirely up to the user.


    <span id=3.1><a href=#3.1>[3.1]</a></span> Setting KISS_PATH
    ____________________________________________________________________________

    The variable can be set system-wide, per-user, per-session, per-command,
    and even programmatically. This guide will cover setting it for the current
    user with an example repository layout.

    Take this layout:

    +--------------------------------------------------------------------------+
    |                                                                          |
    |  ~/repos/                                                                |
    |  |                                                                       |
    |  +- repo/                                                                |
    |  |  - .git/                                                              |
    |  |  - core/                                                              |
    |  |  - extra/                                                             |
    |  |  - wayland/                                                           |
    |  |                                                                       |
    |  +- personal/                                                            |
    |  |  - games/                                                             |
    |  |  - web/                                                               |
    |  |                                                                       |
    |                                                                          |
    +--------------------------------------------------------------------------+

    - Repositories are stored in ~/repos/ which is a per-user configuration.
    - There is a git repository called 'repo' containing four KISS repositories.
    - There is a directory called personal, not tracked by git.
    - The personal directory contains two KISS repositories.

    This user's KISS_PATH could look like this:

    +--------------------------------------------------------------------------+
    |                                                                          |
    |  ~/.profile                                                              |
    |                                                                          |
    |    1 export KISS_PATH=''                                                 |
    |    2 KISS_PATH=$KISS_PATH:$HOME/repos/personal/games                     |
    |    3 KISS_PATH=$KISS_PATH:$HOME/repos/personal/web                       |
    |    4 KISS_PATH=$KISS_PATH:$HOME/repos/repo/core                          |
    |    5 KISS_PATH=$KISS_PATH:$HOME/repos/repo/extra                         |
    |    6 KISS_PATH=$KISS_PATH:$HOME/repos/repo/wayland                       |
    |                                                                          |
    +--------------------------------------------------------------------------+

    - All repositories are enabled.
    - This is a per-user configuration using ~/.profile
    - The package manager will search this list in the order it is defined.

    +--------------------------------------------------------------------------+
    |                                                                          |
    |  TIP: Run '. ~/.profile' for changes to immediately take effect.         |
    |                                                                          |
    +--------------------------------------------------------------------------+


    <span id=3.2><a href=#3.2>[3.2]</a></span> Official repositories
    ____________________________________________________________________________

    The official repositories contain everything from the base system to a
    working web browser (Firefox) and media player (mpv). This includes Wayland,
    rust, nodejs and a lot of other useful software.

    Clone the repository to the directory of your choosing.

    +--------------------------------------------------------------------------+
    |                                                                          |
    | $ git clone <a href=https://github.com/kisslinux/repo>https://github.com/kisslinux/repo</a>                            |
    |                                                                          |
    +--------------------------------------------------------------------------+

    This will be cloned to a directory called 'repo'. This directory contains
    multiple KISS repositories (core, extra, testing and wayland). Core and
    Extra must be enabled as this guide requires their use. Wayland is optional.


    <span id=3.4><a href=#3.4>[3.4]</a></span> Universe
    ____________________________________________________________________________

    There are many more repositories in existence, each providing a unique set
    of software. These are all independently created and managed by users.

    - @/<a href=/wiki/community/repositories>wiki/community/repositories</a>
    - <a href=https://github.com/topics/kiss-repo>https://github.com/topics/kiss-repo</a>

    It may be desirable to save this step for post-installation.


Repositories should now be setup and in functioning order. Run 'kiss search \*'
(notice the backslash) to print all repository packages in the search order of
the package manager.

+------------------------------------------------------------------------------+
| TIP!                                                                         |
+------------------------------------------------------------------------------+
|                                                                              |
|   The install guide (and all documentation) is available via 'kiss help'.    |
|                                                                              |
|   $ kiss help install                                                        |
|                                                                              |
+------------------------------------------------------------------------------+


<span id=4.0><a href=#4.0>[4.0]</a></span> Enable repository signing
________________________________________________________________________________

This step is optional and can also be done after the installation. Repository
signing ensures that all updates have been signed by (Dylan Araps) and further
prevents any unsigned updates from reaching your system.

    <span id=4.1><a href=#4.1>[4.1]</a></span> Build and install gnupg1
    ____________________________________________________________________________

    Welcome to the KISS package manager! This command will build gnupg1 and
    prompt for installation once done. Packages can also be installed manually
    by using 'kiss i pkg'.

    +--------------------------------------------------------------------------+
    |                                                                          |
    |    $ kiss build gnupg1                                                   |
    |                                                                          |
    +--------------------------------------------------------------------------+


    <span id=4.2><a href=#4.2>[4.2]</a></span> Import (Dylan Araps') key
    ____________________________________________________________________________

    If the GNU keyserver fails on your network, try an alternative mirror.

    +--------------------------------------------------------------------------+
    | Import my public key.                                                    |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |    $ gpg --keyserver keys.gnupg.net --recv-key 13295DAC2CF13B5C          |
    |                                                                          |
    +--------------------------------------------------------------------------+
    | Trust my public key.                                                     |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |    $ echo trusted-key 0x13295DAC2CF13B5C >>/root/.gnupg/gpg.conf         |
    |                                                                          |
    +--------------------------------------------------------------------------+


    <span id=4.3><a href=#4.3>[4.3]</a></span> Enable signature verification
    ____________________________________________________________________________

    Repository signature verification uses a feature built into git itself
    (merge.verifySignatures)!  This can be disabled at any time using the
    inverse of the below git command.

    The same steps can also be followed with 3rd-party repositories if the
    owner chooses to sign their commits.

    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ cd /path/to/repo # (where kisslinux/repo was cloned)                 |
    |   $ git config merge.verifySignatures true                               |
    |                                                                          |
    +--------------------------------------------------------------------------+


<span id=5.0><a href=#5.0>[5.0]</a></span> Rebuild kiss
________________________________________________________________________________

This step is entirely optional and can also be done post-installation.


    <span id=5.1><a href=#5.1>[5.1]</a></span> Modify compiler options (optional)
    ____________________________________________________________________________

    These options have been tested and work with every package in the
    repositories. If you'd like to play it safe, use -O2 or -Os instead of -O3.

    If your system has a low amount of memory, omit -pipe. This option speeds
    up compilation but may use more memory.

    If you intend to transfer packages between machines, omit -march=native.
    This option tells the compiler to use optimizations unique to your
    processor's architecture.

    The `-jX` option should match the number of CPU threads available. You can
    omit this, however builds will then be limited to a single thread.

    +--------------------------------------------------------------------------+
    | CFLAGS/CXXFLAGS                                                          |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   # NOTE: The 'O' in '-O3' is the letter O and NOT 0 (ZERO).             |
    |   $ export CFLAGS="-O3 -pipe -march=native"                              |
    |   $ export CXXFLAGS="$CFLAGS"                                            |
    |                                                                          |
    +--------------------------------------------------------------------------+
    | MAKEFLAGS                                                                |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   # NOTE: '4' should be changed to match the number of threads.          |
    |   $ export MAKEFLAGS="-j4"                                               |
    |                                                                          |
    +--------------------------------------------------------------------------+


    <span id=5.2><a href=#5.2>[5.2]</a></span> Update all base packages to the latest version
    ____________________________________________________________________________

    This is how updates are performed on a KISS system. This command uses git
    to pull down changes from all enabled repositories and will then optionally
    handle the build/install process.

    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ kiss update                                                          |
    |                                                                          |
    +--------------------------------------------------------------------------+


    <span id=5.3><a href=#5.3>[5.3]</a></span> Rebuild all packages
    ____________________________________________________________________________

    We simply cd to the installed packages database and use a glob to grab the
    name of every installed package. This glob is then passed to the package
    manager as a list of packages to build.

    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ cd /var/db/kiss/installed && kiss build *                            |
    |                                                                          |
    +--------------------------------------------------------------------------+


<span id=6.0><a href=#6.0>[6.0]</a></span> Userspace tools
________________________________________________________________________________

Each kiss action (build, install, etc) has a shorthand alias. From now on,
'kiss b' will be used in place of 'kiss build' and so on.

The software below is required unless stated otherwise.


    <span id=6.1><a href=#6.1>[6.1]</a></span> Filesystem utilities
    ____________________________________________________________________________

    NOTE: Open an issue for additional filesystem support.

    +--------------------------------------------------------------------------+
    | EXT2, EXT3, EXT4                                                         |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ kiss b e2fsprogs                                                     |
    |                                                                          |
    +--------------------------------------------------------------------------+
    | FAT, VFAT                                                                |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ kiss b dosfstools                                                    |
    |                                                                          |
    +--------------------------------------------------------------------------+


    <span id=6.2><a href=#6.2>[6.2]</a></span> WiFi (optional)
    ____________________________________________________________________________

    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ kiss b wpa_supplicant                                                |
    |                                                                          |
    +--------------------------------------------------------------------------+


    <span id=6.3><a href=#6.3>[6.3]</a></span> Dynamic IP addressing (optional)
    ____________________________________________________________________________

    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ kiss b dhcpcd                                                        |
    |                                                                          |
    +--------------------------------------------------------------------------+


<span id=7.0><a href=#7.0>[7.0]</a></span> The hostname
________________________________________________________________________________

+------------------------------------------------------------------------------+
| Create the /etc/hostname file                                                |
+------------------------------------------------------------------------------+
|                                                                              |
|  $ echo HOSTNAME > /etc/hostname                                             |
|                                                                              |
+------------------------------------------------------------------------------+

+------------------------------------------------------------------------------+
| Update the /etc/hosts file                                                   |
+------------------------------------------------------------------------------+
|                                                                              |
|    127.0.0.1  HOSTNAME.localdomain  HOSTNAME                                 |
|    ::1        HOSTNAME.localdomain  HOSTNAME  ip6-localhost                  |
|                                                                              |
+------------------------------------------------------------------------------+
|                                                                              |
|   NOTE: This step must be done every time the hostname is changed.           |
|                                                                              |
+------------------------------------------------------------------------------+


<span id=8.0><a href=#8.0>[8.0]</a></span> The kernel
________________________________________________________________________________

This step involves configuring and building your own Linux kernel. If you have
not done this before, below are a few guides to get you started.

- <a href=https://wiki.gentoo.org/wiki/Kernel/Gentoo_Kernel_Configuration_Guide>https://wiki.gentoo.org/wiki/Kernel/Gentoo_Kernel_Configuration_Guide</a>
- <a href=https://wiki.gentoo.org/wiki/Kernel/Configuration>https://wiki.gentoo.org/wiki/Kernel/Configuration</a>
- <a href=https://kernelnewbies.org/KernelBuild>https://kernelnewbies.org/KernelBuild</a>

The Linux kernel is not managed by the package manager. The kernel is managed
manually by the user. (Rationale: @/<a href=/faq#5.3>faq#5.3</a>)

KISS does not support booting using an initramfs (see @/<a href=/faq#5.2>faq#5.2</a>). When
configuring your kernel ensure that all required file-system, disk controller
and USB drivers are built with [*] (=y) and not [m] (=m).

+------------------------------------------------------------------------------+
|                                                                              |
|   TIP: The Wiki contains a basic kernel configuration page.                  |
|        @/<a href=/wiki/kernel/config>wiki/kernel/config</a>                                                  |
|                                                                              |
+------------------------------------------------------------------------------+


    <span id=8.1><a href=#8.1>[8.1]</a></span> Install required packages
    ____________________________________________________________________________

    +--------------------------------------------------------------------------+
    | libelf (required in most if not all cases).                              |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ kiss b libelf                                                        |
    |                                                                          |
    +--------------------------------------------------------------------------+

    +--------------------------------------------------------------------------+
    | ncurses (required only for 'make menuconfig').                           |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ kiss b ncurses                                                       |
    |                                                                          |
    +--------------------------------------------------------------------------+

    +--------------------------------------------------------------------------+
    | perl (required in nearly all cases).                                     |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ kiss b perl                                                          |
    |                                                                          |
    |   TIP: A patch can be applied to remove this requirement.                |
    |        - @/<a href=/wiki/kernel/config#5.0>wiki/kernel/config#5.0</a>                                        |
    |        - /usr/share/doc/kiss/wiki/kernel/patches/kernel-no-perl.patch    |
    |                                                                          |
    +--------------------------------------------------------------------------+


    <span id=8.2><a href=#8.2>[8.2]</a></span> Download the kernel sources
    ____________________________________________________________________________

    Kernel releases:

    - <a href=https://kernel.org>https://kernel.org</a>    (vanilla)
    - <a href=https://www.fsfla.org>https://www.fsfla.org</a> (libre)

    A larger list of kernels can be found here:

    - <a href=https://wiki.archlinux.org/index.php/Kernel>https://wiki.archlinux.org/index.php/Kernel</a>

    +--------------------------------------------------------------------------+
    | Download the kernel sources.                                             |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ curl -fLO KERNEL_SOURCE                                              |
    |                                                                          |
    +--------------------------------------------------------------------------+
    | Extract the kernel sources.                                              |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ tar xvf KERNEL_SOURCE                                                |
    |   $ cd linux-*                                                           |
    |                                                                          |
    +--------------------------------------------------------------------------+


    <span id=8.3><a href=#8.3>[8.3]</a></span> Download firmware blobs (if required)
    ____________________________________________________________________________

    To keep the KISS repositories entirely FOSS, the proprietary kernel firmware
    is omitted. This also makes sense as the kernel itself is manually managed
    by the user. This step is only required if your hardware needs firmware.

    <a href=https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git>https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git</a>

    +--------------------------------------------------------------------------+
    | Download and extract the firmware.                                       |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ curl -fLO FIRMWARE_SOURCE.tar.gz                                     |
    |   $ tar xvf FIRMWARE_SOURCE.tar.gz                                       |
    |                                                                          |
    +--------------------------------------------------------------------------+
    | Copy the required drivers to '/usr/lib/firmware'.                        |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ mkdir -p /usr/lib/firmware                                           |
    |   $ cp -R ./path/to/driver /usr/lib/firmware                             |
    |                                                                          |
    +--------------------------------------------------------------------------+


    <span id=8.4><a href=#8.4>[8.4]</a></span> Configure the kernel
    ____________________________________________________________________________

    You can determine which drivers you need by searching the web for your
    hardware and the Linux kernel. If you require firmware blobs, the drivers
    you enable must be enabled as [m] (modules). You can also optionally include
    the firmware in the kernel itself.

    +--------------------------------------------------------------------------+
    | Generate a default config with most drivers built into the kernel.       |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ make defconfig                                                       |
    |                                                                          |
    +--------------------------------------------------------------------------+
    | Open an interactive menu to edit the generated .config and enable        |
    | anything extra you may need.                                             |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ make menuconfig                                                      |
    |                                                                          |
    +--------------------------------------------------------------------------+
    | Store the generated config for reuse later.                              |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ cp .config /path/to/somewhere                                        |
    |                                                                          |
    |                                                                          |
    |   TIP: The kernel can backup its own .config file.                       |
    |        @/<a href=/wiki/kernel/config#2.0>wiki/kernel/config#2.0</a>                                          |
    |                                                                          |
    +--------------------------------------------------------------------------+


    <span id=8.5><a href=#8.5>[8.5]</a></span> Build the kernel
    ____________________________________________________________________________

    This may take a while to complete. The compilation time depends on your
    hardware and kernel configuration.

    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ make                                                                 |
    |                                                                          |
    +--------------------------------------------------------------------------+


    <span id=8.6><a href=#8.6>[8.6]</a></span> Install the kernel
    ____________________________________________________________________________

    +--------------------------------------------------------------------------+
    | Install the built modules (to /usr/lib).                                 |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ make INSTALL_MOD_STRIP=1 modules_install                             |
    |                                                                          |
    +--------------------------------------------------------------------------+
    | Install the built kernel (to /boot). (Ignore the LILO error).            |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ make install                                                         |
    |                                                                          |
    +--------------------------------------------------------------------------+
    | Rename the kernel/system.map (vmlinuz -> vmlinuz-VERSION).               |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ mv /boot/vmlinuz    /boot/vmlinuz-VERSION                            |
    |   $ mv /boot/System.map /boot/System.map-VERSION                         |
    |                                                                          |
    +--------------------------------------------------------------------------+


<span id=9.0><a href=#9.0>[9.0]</a></span> The bootloader
________________________________________________________________________________

The default bootloader is grub (though nothing prevents the use of another).
This default was chosen as most people are familiar with it, both BIOS and UEFI
are supported and vast amounts of documentation for it exists.


    <span id=9.1><a href=#9.1>[9.1]</a></span> Recommended
    ____________________________________________________________________________

    Have an /etc/fstab file ready.


    <span id=9.2><a href=#9.2>[9.2]</a></span> Build and install grub
    ____________________________________________________________________________

    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ kiss b grub                                                          |
    |                                                                          |
    +--------------------------------------------------------------------------+
    | Required for UEFI.                                                       |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ kiss b efibootmgr                                                    |
    |                                                                          |
    +--------------------------------------------------------------------------+


    <span id=9.3><a href=#9.3>[9.3]</a></span> Setup grub
    ____________________________________________________________________________

    +--------------------------------------------------------------------------+
    | BIOS                                                                     |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ grub-install --target=i386-pc /dev/sdX                               |
    |   $ grub-mkconfig -o /boot/grub/grub.cfg                                 |
    |                                                                          |
    +--------------------------------------------------------------------------+
    | UEFI (replace 'esp' with the EFI mount point)                            |
    +--------------------------------------------------------------------------+
    |                                                                          |
    |   $ grub-install --target=x86_64-efi \                                   |
    |                  --efi-directory=esp \                                   |
    |                  --bootloader-id=kiss                                    |
    |                                                                          |
    |   $ grub-mkconfig -o /boot/grub/grub.cfg                                 |
    |                                                                          |
    +--------------------------------------------------------------------------+


<span id=10.0><a href=#10.0>[10.0]</a></span> Install init scripts
________________________________________________________________________________

The default init is busybox init (though nothing ties you to it). The below
commands install the bootup and shutdown scripts as well as the default
inittab config.

Source code: $/<a href=https://github.com/kisslinux/init>kisslinux/init</a>

+------------------------------------------------------------------------------+
|                                                                              |
|   $ kiss b baseinit                                                          |
|                                                                              |
+------------------------------------------------------------------------------+


<span id=11.0><a href=#11.0>[11.0]</a></span> Change the root password (recommended)
________________________________________________________________________________

+------------------------------------------------------------------------------+
|                                                                              |
|   $ passwd root                                                              |
|                                                                              |
+------------------------------------------------------------------------------+


<span id=12.0><a href=#12.0>[12.0]</a></span> Add a normal user (recommended)
________________________________________________________________________________

+------------------------------------------------------------------------------+
|                                                                              |
|   $ adduser USERNAME                                                         |
|                                                                              |
+------------------------------------------------------------------------------+


<span id=13.0><a href=#13.0>[13.0]</a></span> Install graphical session (wayland) (optional)
________________________________________________________________________________

See @/<a href=/wiki/wayland/install>wiki/wayland/install</a> @/<a href=/wiki/wayland>wiki/wayland</a>

+------------------------------------------------------------------------------+
| TIP!                                                                         |
+------------------------------------------------------------------------------+
|                                                                              |
|   The Wiki is available offline via 'kiss help wiki'.                        |
|                                                                              |
|   $ kiss help wiki                                                           |
|                                                                              |
|   $ kiss help wiki/wayland                                                   |
|   $ kiss help wiki/wayland/install                                           |
|                                                                              |
|   $ kiss help wiki/software                                                  |
|   $ kiss help wiki/software/firefox                                          |
|                                                                              |
+------------------------------------------------------------------------------+


<span id=14.0><a href=#14.0>[14.0]</a></span> Further steps
________________________________________________________________________________

The installation is complete!

If everything was done correctly, you should now be able to reboot into your
KISS installation. Typical post-installation steps should follow, see the wiki.

If you encountered any issues or have any questions, get in touch.

See: @/<a href=/contact>contact</a>




________________________________________________________________________________

Dylan Araps (C) 2019-2021

The registered trademark Linux(R) is used pursuant to a sublicense from the
Linux Foundation, the exclusive licensee of Linus Torvalds, owner of the mark
on a world­wide basis.
</pre></div></div>
